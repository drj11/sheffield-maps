<xhtml>
<head>
<!-- per http://leafletjs.com/examples/quick-start/ -->
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css"
   integrity="sha512-M2wvCLH6DSRazYeZRIm1JnYyh22purTM+FDB5CsyxtQJYeKq83arPe5wgbNmcFXGqiSH2XR8dT/fJISVA1r/zQ=="
   crossorigin=""/>
<script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"
   integrity="sha512-lInM/apFSqyy1o6s89K4iQUKg6ppXEgsVxT35HbzUupEVRh2Eu9Wdl4tHj7dZO0s1uvplcYGmt3498TtHq+log=="
   crossorigin=""></script>
</head>
<body>
<div style="height:600px" id="mapid"></div>
<script src="wards.js"></script>
<script>
load("2015imd.json", function(xhr) {
  var imd = JSON.parse(xhr.responseText)
  plot_lsoa(Map, function(feature) {
    var lsoa11cd = feature.properties.LSOA11CD
    var d = imd[lsoa11cd].decile
    return {
      onEachFeature: function(feature, layer) {
        var label = feature.properties.LSOA11NM + " decile " + d
        layer.bindPopup(label)
        },
      style: { fillOpacity:  .09*d,
               fillColor: "purple",
               color: "black",
               weight: 1,
             }

    }
  })
})

</script>
</body>
</html>
